<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chotatsu Finance - VAT Calculator</title>
    <!-- Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a clean look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate-900 */
            color: #e2e8f0; /* Slate-200 */
        }
        .container {
            max-width: 1200px;
        }
        .nav-link {
            @apply px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200;
        }
        .nav-link-active {
            @apply bg-blue-500 text-white shadow-lg;
        }
        .nav-link-inactive {
            @apply hover:bg-gray-700 text-gray-300;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header Navigation -->
    <header class="bg-slate-800 shadow-xl py-4 sticky top-0 z-50">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
            <h1 class="text-2xl font-bold text-white"><a href="index.html">Chotatsu Finance</a></h1>
            <nav class="flex flex-wrap justify-center md:justify-end gap-2 md:gap-4">
                <!-- Calculator Navs -->
                <a href="index.html" class="nav-link nav-link-inactive">GST Calculator</a>
                <a href="loan-calculator.html" class="nav-link nav-link-inactive">Loan Calculator</a>
                <a href="emi-calculator.html" class="nav-link nav-link-inactive">EMI Calculator</a>
                <a href="sip-calculator.html" class="nav-link nav-link-inactive">SIP Calculator</a>
                <a href="vat-calculator.html" class="nav-link nav-link-active">VAT Calculator</a>
                <a href="life-insurance-calculator.html" class="nav-link nav-link-inactive">Life Insurance Calculator</a>
                <a href="interest-calculator.html" class="nav-link nav-link-inactive">Interest Calculator</a>
                <a href="home-loan-calculator.html" class="nav-link nav-link-inactive">Home Loan Calculator</a>
                <a href="car-loan-calculator.html" class="nav-link nav-link-inactive">Car Loan Calculator</a>

                <!-- Informational Navs -->
                <a href="about-us.html" class="nav-link nav-link-inactive">About Us</a>
                <a href="contact-us.html" class="nav-link nav-link-inactive">Contact Us</a>
                <a href="disclaimer.html" class="nav-link nav-link-inactive">Disclaimer</a>
                <a href="terms.html" class="nav-link nav-link-inactive">T&C</a>
            </nav>
        </div>
    </header>

    <!-- Main Content Area - This content is for vat-calculator.html -->
    <main class="flex-grow container mx-auto p-4 md:p-8">
        <section id="vat-calculator-content" class="bg-slate-800 p-8 rounded-2xl shadow-xl flex flex-col lg:flex-row gap-8">
            <div class="w-full lg:w-1/2">
                <h2 class="text-3xl font-bold text-center mb-6 text-white">VAT Calculator</h2>
                <div class="space-y-6">
                    <div>
                        <label for="base-price" class="block text-sm font-medium mb-1">Enter a Price (â‚¹)</label>
                        <input type="number" id="base-price" class="w-full p-3 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., 1000">
                    </div>
                    <div>
                        <label for="vat-rate" class="block text-sm font-medium mb-1">VAT Rate (%)</label>
                        <input type="number" id="vat-rate" class="w-full p-3 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., 12.5">
                    </div>
                    <div class="flex space-x-4">
                        <button id="add-vat-btn" class="w-1/2 py-3 px-4 rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors duration-200 text-white font-semibold">Add VAT</button>
                        <button id="remove-vat-btn" class="w-1/2 py-3 px-4 rounded-lg bg-purple-600 hover:bg-purple-700 transition-colors duration-200 text-white font-semibold">Remove VAT</button>
                    </div>
                </div>
                
                <div class="mt-8 space-y-4 text-center">
                    <div class="bg-slate-700 p-4 rounded-lg shadow">
                        <p class="text-sm font-medium">VAT Amount</p>
                        <p id="vat-amount-display" class="text-2xl font-bold mt-1 text-red-400">0.00</p>
                    </div>
                    <div class="bg-slate-700 p-4 rounded-lg shadow">
                        <p class="text-sm font-medium">Final Price (with VAT)</p>
                        <p id="final-price-display" class="text-2xl font-bold mt-1 text-green-400">0.00</p>
                    </div>
                    <div class="bg-slate-700 p-4 rounded-lg shadow">
                        <p class="text-sm font-medium">Price without VAT</p>
                        <p id="price-without-vat-display" class="text-2xl font-bold mt-1 text-blue-400">0.00</p>
                    </div>
                </div>
            </div>

            <div class="w-full lg:w-1/2 mt-8 lg:mt-0">
                <h3 class="text-xl font-bold text-white mb-4">How the VAT Calculator Works</h3>
                <div class="text-gray-300 space-y-4 leading-relaxed">
                    <p>
                        A VAT (Value Added Tax) calculator is a useful tool for businesses and consumers alike. It helps you quickly determine the tax amount on a product or service, or to find the original price of an item when the VAT is already included. This is especially helpful for invoicing, budgeting, and ensuring correct pricing.
                    </p>
                    <p>
                        Our calculator performs two types of calculations:
                        The 'Add VAT' calculation: This is used when you have a price without tax and want to find the total price after adding VAT. You simply enter the base price and the VAT rate, and the calculator adds the tax amount.
                    </p>
                    <p>
                        The formula for adding VAT is:
                        $$ \text{VAT Amount} = \text{Price} \times \frac{\text{VAT Rate}}{100} $$
                        $$ \text{Final Price} = \text{Price} + \text{VAT Amount} $$
                    </p>
                    <p>
                        The 'Remove VAT' calculation: This is useful when you have a final price that already includes VAT and you need to find the original price before the tax was applied. The calculator reverses the process to give you the exact VAT amount and the original, pre-tax price.
                    </p>
                    <p>
                        The formula for removing VAT is:
                        $$ \text{Original Price} = \frac{\text{Price}}{1 + \frac{\text{VAT Rate}}{100}} $$
                        $$ \text{VAT Amount} = \text{Price} - \text{Original Price} $$
                    </p>
                    <p>
                        Using this calculator eliminates the need for manual calculations, reducing the risk of errors and saving you time. Whether you're preparing an invoice, checking a bill, or just trying to understand the tax component of a purchase, this tool provides instant and accurate results.
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 shadow-inner mt-8 py-4 text-center text-sm text-slate-400">
        <p>&copy; 2024 Chotatsu Finance. All rights reserved.</p>
    </footer>

    <!-- JavaScript for VAT Calculator logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const basePriceInput = document.getElementById('base-price');
            const vatRateInput = document.getElementById('vat-rate');
            const addVatBtn = document.getElementById('add-vat-btn');
            const removeVatBtn = document.getElementById('remove-vat-btn');

            const vatAmountDisplay = document.getElementById('vat-amount-display');
            const finalPriceDisplay = document.getElementById('final-price-display');
            const priceWithoutVatDisplay = document.getElementById('price-without-vat-display');

            const calculateVAT = (type) => {
                const price = parseFloat(basePriceInput.value);
                const vatRate = parseFloat(vatRateInput.value);

                if (isNaN(price) || isNaN(vatRate) || price < 0 || vatRate < 0) {
                    showModal("Please enter valid non-negative numbers for all fields.");
                    return;
                }

                let vatAmount, finalPrice, originalPrice;
                const vatMultiplier = vatRate / 100;

                if (type === 'add') {
                    vatAmount = price * vatMultiplier;
                    finalPrice = price + vatAmount;
                    originalPrice = price; // In this case, the original price is the price entered
                } else if (type === 'remove') {
                    originalPrice = price / (1 + vatMultiplier);
                    vatAmount = price - originalPrice;
                    finalPrice = price; // In this case, the final price is the price entered
                }

                vatAmountDisplay.textContent = vatAmount.toFixed(2);
                finalPriceDisplay.textContent = finalPrice.toFixed(2);
                priceWithoutVatDisplay.textContent = originalPrice.toFixed(2);
            };

            addVatBtn.addEventListener('click', () => calculateVAT('add'));
            removeVatBtn.addEventListener('click', () => calculateVAT('remove'));

            // Custom Modal Box Logic
            function showModal(message) {
                let modal = document.getElementById('alert-modal');
                if (!modal) {
                    modal = document.createElement('div');
                    modal.id = 'alert-modal';
                    modal.className = 'fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50';
                    modal.innerHTML = `
                        <div class="bg-slate-800 p-6 rounded-lg shadow-xl max-w-sm w-full mx-4">
                            <p class="text-white text-center text-lg mb-4" id="modal-message"></p>
                            <button id="modal-close-btn" class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">OK</button>
                        </div>
                    `;
                    document.body.appendChild(modal);
                    document.getElementById('modal-close-btn').addEventListener('click', () => modal.style.display = 'none');
                }
                document.getElementById('modal-message').textContent = message;
                modal.style.display = 'flex';
            }
        });
    </script>
</body>
</html>
