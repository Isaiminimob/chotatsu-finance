<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chotatsu Finance - Home Loan Calculator</title>
    <!-- Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a clean look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate-900 */
            color: #e2e8f0; /* Slate-200 */
        }
        .container {
            max-width: 1200px;
        }
        .nav-link {
            @apply px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200;
        }
        .nav-link-active {
            @apply bg-blue-500 text-white shadow-lg;
        }
        .nav-link-inactive {
            @apply hover:bg-gray-700 text-gray-300;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header Navigation -->
    <header class="bg-slate-800 shadow-xl py-4 sticky top-0 z-50">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
            <h1 class="text-2xl font-bold text-white"><a href="index.html">Chotatsu Finance</a></h1>
            <nav class="flex flex-wrap justify-center md:justify-end gap-2 md:gap-4">
                <!-- Calculator Navs -->
                <a href="index.html" class="nav-link nav-link-inactive">GST Calculator</a>
                <a href="loan-calculator.html" class="nav-link nav-link-inactive">Loan Calculator</a>
                <a href="emi-calculator.html" class="nav-link nav-link-inactive">EMI Calculator</a>
                <a href="sip-calculator.html" class="nav-link nav-link-inactive">SIP Calculator</a>
                <a href="vat-calculator.html" class="nav-link nav-link-inactive">VAT Calculator</a>
                <a href="life-insurance-calculator.html" class="nav-link nav-link-inactive">Life Insurance Calculator</a>
                <a href="interest-calculator.html" class="nav-link nav-link-inactive">Interest Calculator</a>
                <a href="home-loan-calculator.html" class="nav-link nav-link-active">Home Loan Calculator</a>
                <a href="car-loan-calculator.html" class="nav-link nav-link-inactive">Car Loan Calculator</a>

                <!-- Informational Navs -->
                <a href="about-us.html" class="nav-link nav-link-inactive">About Us</a>
                <a href="contact-us.html" class="nav-link nav-link-inactive">Contact Us</a>
                <a href="disclaimer.html" class="nav-link nav-link-inactive">Disclaimer</a>
                <a href="terms.html" class="nav-link nav-link-inactive">T&C</a>
            </nav>
        </div>
    </header>

    <!-- Main Content Area - This content is for home-loan-calculator.html -->
    <main class="flex-grow container mx-auto p-4 md:p-8">
        <section id="home-loan-calculator-content" class="bg-slate-800 p-8 rounded-2xl shadow-xl flex flex-col lg:flex-row gap-8">
            <div class="w-full lg:w-1/2">
                <h2 class="text-3xl font-bold text-center mb-6 text-white">Home Loan Calculator</h2>
                <div class="space-y-6">
                    <div>
                        <label for="principal-amount" class="block text-sm font-medium mb-1">Loan Amount (â‚¹)</label>
                        <input type="number" id="principal-amount" class="w-full p-3 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., 5000000">
                    </div>
                    <div>
                        <label for="interest-rate" class="block text-sm font-medium mb-1">Annual Interest Rate (%)</label>
                        <input type="number" id="interest-rate" class="w-full p-3 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., 7.5">
                    </div>
                    <div>
                        <label for="loan-term" class="block text-sm font-medium mb-1">Loan Term (Years)</label>
                        <input type="number" id="loan-term" class="w-full p-3 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., 20">
                    </div>
                    <button id="calculate-loan-btn" class="w-full py-3 px-4 rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors duration-200 text-white font-semibold">Calculate EMI</button>
                </div>
                
                <div class="mt-8 space-y-4 text-center">
                    <div class="bg-slate-700 p-4 rounded-lg shadow">
                        <p class="text-sm font-medium">Monthly EMI</p>
                        <p id="emi-display" class="text-2xl font-bold mt-1 text-blue-400">0.00</p>
                    </div>
                    <div class="bg-slate-700 p-4 rounded-lg shadow">
                        <p class="text-sm font-medium">Total Interest Payable</p>
                        <p id="total-interest-display" class="text-2xl font-bold mt-1 text-red-400">0.00</p>
                    </div>
                    <div class="bg-slate-700 p-4 rounded-lg shadow">
                        <p class="text-sm font-medium">Total Payable Amount</p>
                        <p id="total-amount-display" class="text-2xl font-bold mt-1 text-green-400">0.00</p>
                    </div>
                </div>
            </div>

            <div class="w-full lg:w-1/2 mt-8 lg:mt-0">
                <h3 class="text-xl font-bold text-white mb-4">How the Home Loan Calculator Works</h3>
                <div class="text-gray-300 space-y-4 leading-relaxed">
                    <p>
                        A home loan calculator is a crucial tool for anyone planning to buy a house. It helps you understand the financial commitment of a home loan by estimating your monthly EMI (Equated Monthly Installment). This allows you to plan your budget and determine a comfortable loan amount before you apply.
                    </p>
                    <p>
                        To use the calculator, you just need to enter three key pieces of information: the Loan Amount (the total principal you wish to borrow), the Annual Interest Rate (the rate offered by the lender), and the Loan Term (the number of years over which you will repay the loan).
                    </p>
                    <p>
                        The calculator uses the standard EMI formula to give you a clear picture of your repayment schedule. It breaks down the total payment into the monthly EMI, the total interest you will pay over the loan's lifetime, and the total amount you will pay back to the bank.
                    </p>
                    <p>
                        The formula for calculating EMI is:
                        $$ EMI = P \times \frac{r(1+r)^n}{(1+r)^n - 1} $$
                        Where:
                        - $P$ = Principal Loan Amount
                        - $r$ = Monthly Interest Rate ($r = \frac{\text{Annual Rate}}{12 \times 100}$)
                        - $n$ = Loan Term in Months ($n = \text{Loan Term in years} \times 12$)
                    </p>
                    <p>
                        This tool is an invaluable first step in your home-buying journey, helping you to compare different loan options and make a financially sound decision.
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 shadow-inner mt-8 py-4 text-center text-sm text-slate-400">
        <p>&copy; 2024 Chotatsu Finance. All rights reserved.</p>
    </footer>

    <!-- JavaScript for Home Loan Calculator logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const principalInput = document.getElementById('principal-amount');
            const interestRateInput = document.getElementById('interest-rate');
            const loanTermInput = document.getElementById('loan-term');
            const calculateBtn = document.getElementById('calculate-loan-btn');

            const emiDisplay = document.getElementById('emi-display');
            const totalInterestDisplay = document.getElementById('total-interest-display');
            const totalAmountDisplay = document.getElementById('total-amount-display');

            const calculateEMI = () => {
                const principal = parseFloat(principalInput.value);
                const annualRate = parseFloat(interestRateInput.value);
                const years = parseFloat(loanTermInput.value);

                if (isNaN(principal) || isNaN(annualRate) || isNaN(years) || principal <= 0 || annualRate < 0 || years <= 0) {
                    showModal("Please enter valid positive numbers for all fields.");
                    return;
                }

                const monthlyRate = (annualRate / 100) / 12;
                const numberOfPayments = years * 12;

                let emi;
                if (monthlyRate === 0) {
                    emi = principal / numberOfPayments;
                } else {
                    emi = (principal * monthlyRate * Math.pow(1 + monthlyRate, numberOfPayments)) / (Math.pow(1 + monthlyRate, numberOfPayments) - 1);
                }
                
                const totalAmount = emi * numberOfPayments;
                const totalInterest = totalAmount - principal;

                emiDisplay.textContent = emi.toFixed(2);
                totalInterestDisplay.textContent = totalInterest.toFixed(2);
                totalAmountDisplay.textContent = totalAmount.toFixed(2);
            };

            calculateBtn.addEventListener('click', calculateEMI);

            // Custom Modal Box Logic
            function showModal(message) {
                let modal = document.getElementById('alert-modal');
                if (!modal) {
                    modal = document.createElement('div');
                    modal.id = 'alert-modal';
                    modal.className = 'fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50';
                    modal.innerHTML = `
                        <div class="bg-slate-800 p-6 rounded-lg shadow-xl max-w-sm w-full mx-4">
                            <p class="text-white text-center text-lg mb-4" id="modal-message"></p>
                            <button id="modal-close-btn" class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">OK</button>
                        </div>
                    `;
                    document.body.appendChild(modal);
                    document.getElementById('modal-close-btn').addEventListener('click', () => modal.style.display = 'none');
                }
                document.getElementById('modal-message').textContent = message;
                modal.style.display = 'flex';
            }
        });
    </script>
</body>
</html>
